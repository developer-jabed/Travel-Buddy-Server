model User {
  id       String   @id @default(cuid())
  name     String
  email    String   @unique
  password String?
  photoURL String?
  role     UserRole @default(USER)
  status         UserStatus    @default(ACTIVE)
  // Relations
  sentBuddyRequests     BuddyRequest[] @relation("BuddySender")
  receivedBuddyRequests BuddyRequest[] @relation("BuddyReceiver")

  reportsMade     Report[] @relation("Reporter")
  reportsReceived Report[] @relation("Reported")

  payments Payment[]
  messages Message[] @relation("UserMessages")

  trips Trip[]

  reviewsGiven    Review[] @relation("ReviewGiver")
  reviewsReceived Review[] @relation("ReviewReceiver")

  createdAt         DateTime            @default(now())
  updatedAt         DateTime            @updatedAt
  ChatParticipant   ChatParticipant[]
  MeetupParticipant MeetupParticipant[]
  Subscription      Subscription[]
  Notification      Notification[]
  TravelerProfile   TravelerProfile?
  Moderator         Moderator?
  Admin             Admin?

  @@map("users")
}

model TravelerProfile {
  id          String      @id @default(uuid())
  name String
  email         String?   
  userId      String      @unique
  bio         String?     @default("")
  age         Int?
  profilePhoto String? 
  gender      String?
  travelStyle TravelStyle @default(BUDGET)
  interests   String[]
  languages   String[]
  city        String?
  country     String?

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  user User @relation(fields: [userId], references: [id])

  @@map("traveler_profiles")
}

model Moderator {
  id           String   @id @default(uuid())
  name String
  email         String?   
  userId       String   @unique
  isActive     Boolean  @default(true)
  assignedDate DateTime @default(now())

  user User @relation(fields: [userId], references: [id])

  @@map("moderators")
}

model Admin {
  id          String   @id @default(uuid())
  name String
  email         String?  
  userId      String   @unique

  isActive    Boolean  @default(true)
  superAdmin  Boolean  @default(false)
  permissions String[]

  user User @relation(fields: [userId], references: [id])

  @@map("admins")
}
